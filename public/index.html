<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/1486504338-check-check-marks-list-checklist-documents-todo-list_81298.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/react@17.0.2/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Web site created using create-react-app">
    <link rel="apple-touch-icon" href="./folderyellowwine_93303.png">

    <title _msttexthash="302367" _msthash="0">Lista de Tareas</title>
    <link href="../src/App.css" rel="stylesheet">
    

		<title>Lista de Tareas</title>
    <script type="text/babel">

      const App = () => {
        const [todos, setTodos] = React.useState(
        [{
          id: 1,
          task: "Curso de HTML desde cero",
          complete: false
        }, {
          id: 2,
          task: "Curso de CSS desde cero",
          complete: false
        }, {
          id: 3,
          task: "Curso de JavaScript desde cero",
          complete: true
        }]
        );
        
        React.useEffect(()=>{
          const data = window.localStorage.getItem('todoLista')
          if (data != null) setTodos(JSON.parse(data)) 
        }, [])
        
        React.useEffect(()=>{ 
          const data = JSON.stringify(todos)
          window.localStorage.setItem('todoLista', data)
        }, [todos])

        const onMarkComplete = (id) => {

          setTodos(
            todos.map((todo) => {
              return todo.id === Number(id)
                ? { ...todo, completed: !todo.completed }
                : { ...todo };
            })
          );
        };

        const addTodo = (newTodo) => {
          console.log("newTodo", newTodo);
          let newItem = { id: new Date().getTime(), task: newTodo, completed: false };

          setTodos([...todos, newItem]);
        };

        const onDeleteItem = (id) => {
          setTodos([...todos].filter((item) => item.id !== id));
        };

        return (
          <div className="container">
            <TodoForm addTodo={addTodo} />
            <Todo
              todos={todos}
              onMarkComplete={onMarkComplete}
              onDeleteItem={onDeleteItem}
            />
          </div>
        );
      };


      function TodoForm({ addTodo }) {
        const [userInput, setUserInput] = React.useState("");

        const handleChange = (e) => {
          setUserInput(e.currentTarget.value);
        };

        const handleSubmit = (e) => {
          e.preventDefault();
          if (userInput.trim() !== "") {
            addTodo(userInput);
            setUserInput("");
          }
        };

        return (
          <div style={{ margin: 5 }}>
            <form  onSubmit={handleSubmit}>
              <input className = "input" type="text" placeholder="Ingresar Nueva Tarea" value={userInput} onChange={handleChange} />
              <button className="boton">Guardar</button>
            </form>
          </div>
        );
      }


      function Todo({ todos, onMarkComplete, onDeleteItem }) {

        return (
          <div className="items">
            {todos.map((item, index) => (
              <TodoItem
                key={`todo-${index}`}
                todo={item}
                onMarkComplete={onMarkComplete}
                onDeleteItem={onDeleteItem}
              />
            ))}
          </div>
        );
      }

      const TodoItem = ({ todo, onMarkComplete, onDeleteItem }) => {
        const getStyle = () => {
          return {
            textDecoration: todo.completed ? "line-through" : "none",
            margin: "5px",
            padding: "5px",
            marginBottom: "-4px",
          };
        };

        return (
          <div style={getStyle()} className="box">
            <input
              type="checkbox"
              checked={todo.completed}
              onChange={() => onMarkComplete(todo.id)}
            />{" "}
            {todo.task}
            <button className="add-btn" onClick={() => onDeleteItem(todo.id)}>
              X
            </button>
          </div>
        );
      };

      ReactDOM.render(<> <App />  </>, document.getElementById('root'))
  </script>
  </head>
  <body>
    <div class="good"><h1>LISTA DE TAREAS</h1></div>
    
    <div id="root"></div>
    <div class="App">
      <div>
        <form>
    
          <svg viewBox="0 0 0 0" style="position: absolute; z-index: -1; opacity: 0;">
            <defs>
              <linearGradient id="boxGradient" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="25" y2="25">
                <stop offset="0%" stop-color="#27FDC7" />
                <stop offset="100%" stop-color="#0FC0F5" />
              </linearGradient>
    
              <linearGradient id="lineGradient">
                <stop offset="0%" stop-color="#0FC0F5" />
                <stop offset="100%" stop-color="#27FDC7" />
              </linearGradient>
    
              <path id="todo_line" stroke="url(#lineGradient)" d="M21 12.3h168v0.1z"></path>
              <path id="todo_box" stroke="url(#boxGradient)"
                d="M21 12.7v5c0 1.3-1 2.3-2.3 2.3H8.3C7 20 6 19 6 17.7V7.3C6 6 7 5 8.3 5h10.4C20 5 21 6 21 7.3v5.4"></path>
              <path id="todo_check" stroke="url(#boxGradient)" d="M10 13l2 2 5-5"></path>
              <path id="todo_circle" svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                class="bi bi-check2-square" viewBox="0 0 16 16">
                <path
                  d="M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z" />
                <path
                  d="m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0" />
          </svg>
          </defs>
          </svg>
        </form>
        <br>
        <br>
        <br>
        <footer>
          <p>© 2023 App Lista de tareas</p> 
           Realizada en el Curso 133; por el Grupo 02 -> miriany.gonzalez@gmail.com<br>
            DNI N°:      ¬    Apellidos y nombres:
           <br>  17675854; Gonzalez, Mirian Yolanda 
            <br> 26631150; Milano, Cristian Andrés
            <br> 26321091; Otegui, Luciano Jesús
            <br> 26107345; Rodríguez, María Paula
            <br> 25106719; Ruiz Díaz, Betiana
            <br> 22776836; Sierra, Magdalena</p>
        </footer>
        <script src="/static/js/2.b22b5e6d.chunk.js"></script>
        <script src="/static/js/main.17ffcd49.chunk.js"></script>
        <scribe-shadow id="crxjs-ext" style="position: fixed; width: 0px; height: 0px; top: 0px; left: 0px; z-index: 2147483647; overflow: visible;"></scribe-shadow>    
  </body>
</html>
